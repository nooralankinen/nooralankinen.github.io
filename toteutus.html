<!DOCTYPE html>

<html lang="fi">

<head>
 <title>JSON Example</title> 
 <meta charset="utf-8">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="tyyli.css">
 <ul>
    <li><a href="kurssi.html">Home</a></li>
    <li><a href="toteutus.html">Toteutus</a></li>
</ul>
 </head>

<body>
    <h1>Toteutus</h1>
    <div id="vastaus">
        <script>

            /*funktio*/
            function kerro(data){
                var teksti = "";
                teksti = "<h1>" + data.otsikko + "</h1>";
                teksti = teksti +"<p>"+"<b>"+ data.kuvaus +"</b>"+"<br>"
                teksti += '<img src="https://jaakkola.github.io/json/digi.JPG"' + data.kuva + '" alt="Kuva" width="300"><br>';
                 + data.opintojakso.nimi + "<br>"
                 + data.opintojakso.tunnus + "<br>"
                 + data.opintojakso.opintopisteet + "<br>"
                 + data.sisalto + "<br>"
                 + data.tekniikat + "</p>";

            document.getElementById("vastaus").innerHTML = teksti;
            
            }
          fetch('https://nooralankinen.github.io/kurssi.JSON')      
            /*Muunnetaan vastaus JSON -muotoon*/
                .then(function(response) {
                    return response.json();
                    })

            /* Käsitellään muunnettu vastaus
             Kutsutaan funktiota kerro() ja välitetään sille json -vastaus */
                .then(function (responseJson) {
                    kerro(responseJson);
                    })


            /* Jos tuli virhe */
                .catch(function (error) {
                    document.getElementById("vastaus").innerHTML = "<p>Tietoa ei pystytä hakemaan</p>";
                    })

        </script>
    </div>

</body>
</html>
